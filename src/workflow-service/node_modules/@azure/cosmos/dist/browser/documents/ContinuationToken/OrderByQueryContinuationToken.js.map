{"version":3,"file":"OrderByQueryContinuationToken.js","sourceRoot":"","sources":["../../../../src/documents/ContinuationToken/OrderByQueryContinuationToken.ts"],"names":[],"mappings":"AAAA,uCAAuC;AACvC,kCAAkC;AAkClC;;;GAGG;AACH,MAAM,UAAU,mCAAmC,CACjD,aAAgD,EAChD,YAAmB,EACnB,GAAW,EACX,SAAiB,EACjB,WAAoB,EACpB,MAAe,EACf,KAAc,EACd,gBAAyB;IAEzB,IAAI,CAAC,aAAa,IAAI,aAAa,CAAC,MAAM,KAAK,CAAC,EAAE,CAAC;QACjD,MAAM,IAAI,KAAK,CAAC,iDAAiD,CAAC,CAAC;IACrE,CAAC;IAED,IAAI,CAAC,YAAY,IAAI,YAAY,CAAC,MAAM,KAAK,CAAC,EAAE,CAAC;QAC/C,MAAM,IAAI,KAAK,CAAC,gDAAgD,CAAC,CAAC;IACpE,CAAC;IAED,OAAO;QACL,aAAa;QACb,YAAY;QACZ,GAAG;QACH,SAAS;QACT,WAAW;QACX,MAAM;QACN,KAAK;QACL,gBAAgB;KACgB,CAAC;AACrC,CAAC;AAED;;;GAGG;AACH,MAAM,UAAU,sCAAsC,CACpD,KAAoC;IAEpC,OAAO,IAAI,CAAC,SAAS,CAAC,KAAK,CAAC,CAAC;AAC/B,CAAC;AAED;;;GAGG;AACH,MAAM,UAAU,kCAAkC,CAChD,WAAmB;IAEnB,OAAO,IAAI,CAAC,KAAK,CAAC,WAAW,CAAC,CAAC;AACjC,CAAC","sourcesContent":["// Copyright (c) Microsoft Corporation.\n// Licensed under the MIT License.\n\nimport type {\n  QueryRangeWithContinuationToken,\n  BaseContinuationToken,\n} from \"./CompositeQueryContinuationToken.js\";\n\n/**\n * Continuation token for order by queries.\n * @hidden\n */\nexport interface OrderByQueryContinuationToken extends BaseContinuationToken {\n  /**\n   * Order by items for the query\n   */\n  orderByItems: any[];\n\n  /**\n   * Number of items to skip in the query\n   */\n  skipCount: number;\n\n  /**\n   * Document ID of the last document result\n   */\n  documentRid: string;\n\n  /**\n   * Hash of the last document result for distinct order queries\n   * Used to ensure duplicates are not returned across continuation boundaries\n   */\n  hashedLastResult?: string;\n}\n\n/**\n * Creates an OrderByQueryContinuationToken\n * @hidden\n */\nexport function createOrderByQueryContinuationToken(\n  rangeMappings: QueryRangeWithContinuationToken[],\n  orderByItems: any[],\n  rid: string,\n  skipCount: number,\n  documentRid?: string,\n  offset?: number,\n  limit?: number,\n  hashedLastResult?: string,\n): OrderByQueryContinuationToken {\n  if (!rangeMappings || rangeMappings.length === 0) {\n    throw new Error(\"rangeMappings must contain at least one element\");\n  }\n\n  if (!orderByItems || orderByItems.length === 0) {\n    throw new Error(\"orderByItems must contain at least one element\");\n  }\n\n  return {\n    rangeMappings,\n    orderByItems,\n    rid,\n    skipCount,\n    documentRid,\n    offset,\n    limit,\n    hashedLastResult,\n  } as OrderByQueryContinuationToken;\n}\n\n/**\n * Serializes an OrderByQueryContinuationToken to a JSON string\n * @hidden\n */\nexport function serializeOrderByQueryContinuationToken(\n  token: OrderByQueryContinuationToken,\n): string {\n  return JSON.stringify(token);\n}\n\n/**\n * Deserializes a JSON string to an OrderByQueryContinuationToken\n * @hidden\n */\nexport function parseOrderByQueryContinuationToken(\n  tokenString: string,\n): OrderByQueryContinuationToken {\n  return JSON.parse(tokenString);\n}\n"]}