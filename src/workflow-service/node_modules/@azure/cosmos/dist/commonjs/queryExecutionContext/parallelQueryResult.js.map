{"version":3,"file":"parallelQueryResult.js","sourceRoot":"","sources":["../../../src/queryExecutionContext/parallelQueryResult.ts"],"names":[],"mappings":";AAAA,uCAAuC;AACvC,kCAAkC;;AAwDlC,8DAgBC;AAzBD;;;;;;;;GAQG;AACH,SAAgB,yBAAyB,CACvC,MAAa,EACb,oBAAoD,EACpD,yBAA+C,EAC/C,YAAmC;IAEnC,MAAM,MAAM,GAAwB;QAClC,MAAM;QACN,oBAAoB;QACpB,yBAAyB;KAC1B,CAAC;IAEF,IAAI,YAAY,KAAK,SAAS,EAAE,CAAC;QAC/B,MAAM,CAAC,YAAY,GAAG,YAAY,CAAC;IACrC,CAAC;IACD,OAAO,MAAM,CAAC;AAChB,CAAC","sourcesContent":["// Copyright (c) Microsoft Corporation.\n// Licensed under the MIT License.\n\nimport type { QueryRangeMapping } from \"./queryRangeMapping.js\";\n\n/**\n * Represents an ORDER BY item with its associated document resource ID.\n * Used for tracking ORDER BY criteria and document identity in sorted query results.\n * @internal\n */\nexport interface OrderByItemWithRid {\n  /**\n   * The ORDER BY values for this document\n   */\n  orderByItems: any[];\n  /**\n   * The resource ID (_rid) of the document\n   */\n  _rid: string;\n}\n\n/**\n * Represents the result structure returned by parallel query execution contexts\n * @hidden\n */\nexport interface ParallelQueryResult {\n  /**\n   * The actual query result data (documents/items)\n   */\n  buffer: any[];\n\n  /**\n   * Mapping of partition key ranges used during query execution\n   */\n  partitionKeyRangeMap: Map<string, QueryRangeMapping>;\n\n  /**\n   * Updated continuation ranges after partition split/merge operations\n   */\n  updatedContinuationRanges?: Record<string, any>;\n\n  /**\n   * Optional array of orderBy items corresponding to each item in the buffer\n   * Used for ORDER BY queries to track sorting criteria\n   */\n  orderByItems?: OrderByItemWithRid[];\n}\n\n/**\n * Creates a new ParallelQueryResult with the specified data\n * @param buffer - The query result data\n * @param partitionKeyRangeMap - Partition key range mappings\n * @param updatedContinuationRanges - Updated continuation ranges\n * @param orderByItems - Optional array of orderBy items for each buffer item\n * @returns A new ParallelQueryResult instance\n * @hidden\n */\nexport function createParallelQueryResult(\n  buffer: any[],\n  partitionKeyRangeMap: Map<string, QueryRangeMapping>,\n  updatedContinuationRanges?: Record<string, any>,\n  orderByItems?: OrderByItemWithRid[],\n): ParallelQueryResult {\n  const result: ParallelQueryResult = {\n    buffer,\n    partitionKeyRangeMap,\n    updatedContinuationRanges,\n  };\n\n  if (orderByItems !== undefined) {\n    result.orderByItems = orderByItems;\n  }\n  return result;\n}\n"]}